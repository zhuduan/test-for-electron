<nz-card [nzBordered]="false">
  <form nz-form [formGroup]="form" [nzLayout]="'inline'" (ngSubmit)="submit()">
    <nz-form-item>
      <nz-form-label [nzXs]="24" [nzSm]="7" [nzRequired] nzFor="targetUrl">目标路径</nz-form-label>
      <nz-form-control [nzXs]="24" [nzSm]="12" [nzMd]="10">
        <input nz-input formControlName="targetUrl" id="targetUrl" placeholder="目标路径">
        <nz-form-explain *ngIf="form.get('targetUrl').dirty && form.get('targetUrl').errors">请输入目标路径</nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzXs]="{ span: 24, offset: 0 }" [nzSm]="{ span: 10, offset: 7 }">
        <button nz-button [nzType]="'primary'" type="submit" [nzLoading]="submitting" (click)="parseUrl()">解析</button>
      </nz-form-control>
      <nz-form-control [nzXs]="{ span: 24, offset: 0 }" [nzSm]="{ span: 10, offset: 7 }">
        <button nz-button [nzType]="'primary'" type="submit" [nzLoading]="submitting">提交</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-card>

<nz-card [nzBordered]="false">
  <div class="d-flex align-items-center mb-lg">
    <h3 class="flex-1 text-lg">标准列表</h3>
    <div>
      <nz-radio-group [(ngModel)]="q.status" class="mr-md">
        <label nz-radio-button [nzValue]="'all'">
          <span>全部</span>
        </label>
        <label nz-radio-button [nzValue]="'progress'">
          <span>进行中</span>
        </label>
        <label nz-radio-button [nzValue]="'waiting'">
          <span>等待中</span>
        </label>
      </nz-radio-group>
      <nz-input-group nzSuffixIcon="anticon anticon-search" style="width: 270px;">
        <input type="text" nz-input placeholder="请输入" [(ngModel)]="q.q" name="q">
      </nz-input-group>
    </div>
  </div>

  <nz-list [nzDataSource]="data" [nzLoading]="loading" [nzRenderItem]="item" [nzPagination]="pagenation">
    <ng-template #item let-item>
      <nz-list-item [nzContent]="nzContent" [nzActions]="[edit, op]">
        <ng-template #edit>
          <a (click)="msg.success('编辑：' + item.title)">编辑</a>
        </ng-template>
        <ng-template #op>
          <nz-dropdown>
            <a class="ant-dropdown-link" nz-dropdown>
              编辑
              <i class="anticon anticon-down"></i>
            </a>
            <ul nz-menu>
              <li nz-menu-item (click)="msg.success('编辑：' + item.title)">编辑</li>
              <li nz-menu-item (click)="msg.success('删除' + item.title)">删除</li>
            </ul>
          </nz-dropdown>
        </ng-template>
        <nz-list-item-meta [nzTitle]="nzTitle" [nzDescription]="item.subDescription" [nzAvatar]="nzAvatar">
          <ng-template #nzTitle>
            <a href="{{item.href}}" target="_blank">{{item.href}}</a>
          </ng-template>
          <ng-template #nzAvatar>
            <nz-avatar [nzSrc]="item.logo" [nzShape]="'square'" [nzSize]="'large'"></nz-avatar>
          </ng-template>
        </nz-list-item-meta>
        <ng-template #nzContent>
          <div class="width-lg">
            <div class="d-flex text-grey-dark">
              <div class="flex-1">
                Owner
                <p>{{item.owner}}</p>
              </div>
              <div class="text-right">
                开始时间
                <p>{{item.createdAt | _date}}</p>
              </div>
            </div>
            <nz-progress [(nzPercent)]="item.percent" [nzStatus]="item.status" [nzStrokeWidth]="6"></nz-progress>
          </div>
        </ng-template>
      </nz-list-item>
    </ng-template>
    <ng-template #pagenation>
      <nz-pagination [nzTotal]="50" [nzPageSize]="5" (nzPageIndexChange)="getData()"></nz-pagination>
    </ng-template>
  </nz-list>

</nz-card>
